<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>An example FCC Form - Sunlight Foundation</title>
        <link rel="stylesheet" href="sfapp/css/bootstrap.min.css">
        <link rel="stylesheet" href="sfapp/css/sfapp.css">
        <style>
            form fieldset { margin-bottom: 2em; }
            .help-inline, .help-block { font-style: italic; }
            #app-container {
                min-height: 1000px;
            }
            .muted, input.muted {
                color: #999;
            }
            .btn-small, .btn-small:active {
                padding: 2px 10px;
            }
            .inline .input-prepend .add-on {
                vertical-align: 3px;
            }
            .tab-pane {
                padding: 8px;
            }
            .tab-content {
                border: 1px solid #ddd;
                border-top: none;
            }
            pre code {
                color: #d14;
                white-space: pre;
            }
            .modal-body pre {
                margin-bottom: 0;
            }

            .form-inline input {
                margin-right: 10px;
            }
            .purchase-detail {
                margin-bottom: 20px;
            }
            .vert-stripe {
                border-left: 5px solid #F6F6F6;
                padding-left: 5px;
            }
            .vert-stripe.span4 {
                width: 290px;
            }
        </style>

        <script type="text/javascript" src="//use.typekit.com/tab6neo.js"></script>
        <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

        <script>
            var ga_account = null;
            if (ga_account != null) {
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', '']);
                _gaq.push(['_trackPageview']);
                (function() {
                    var ga = document.createElement('script');
                    ga.type = 'text/javascript';
                    ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga, s);
                })();
            };
        </script>

        <script type="text/html" id="xml-template">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;payload&gt;
    &lt;station&gt;
        &lt;callsign&gt;<span data-bind="text: stationCallsign"></span>&lt;/callsign&gt;
    &lt;/station&gt;
    &lt;purchase&gt;
        &lt;isApproved&gt;<span data-bind="text: purchaseApproved"></span>&lt;/isApproved&gt;
    &lt;/purchase&gt;
    &lt;contract&gt;
        &lt;amount&gt;<span data-bind="text: contractAmount"></span>&lt;/amount&gt;
    &lt;/contract&gt;
    &lt;advertiser&gt;
        &lt;name&gt;<span data-bind="text: advertiserName"></span>&lt;/name&gt;
        &lt;contact&gt;
            &lt;name&gt;<span data-bind="text: advertiserContactName"></span>&lt;/name&gt;
            &lt;address&gt;&lt;![CDATA[<span data-bind="text: advertiserContactAddress"></span>]]&gt;&lt;/address&gt;
            &lt;phone&gt;<span data-bind="text: advertiserContactPhone"></span>&lt;/phone&gt;
        &lt;/contact&gt;
    &lt;/advertiser&gt;
    &lt;advertisement&gt;
        &lt;subject&gt;<span data-bind="text: advertisementSubject"></span>&lt;/subject&gt;
        &lt;isByCandidate&gt;<span data-bind="text: isByCandidate"></span>&lt;/isByCandidate&gt;
    &lt;/advertisement&gt;
    &lt;subject&gt;
        &lt;name&gt;<span data-bind="text: subjectName"></span>&lt;/name&gt;
        &lt;fecId&gt;<span data-bind="text: matchSubjectToFecId()"></span>&lt;/fecId&gt;
        &lt;officeSought&gt;<span data-bind="text: subjectOfficeSought"></span>&lt;/officeSought&gt;
    &lt;/subject&gt;
    &lt;committee&gt;
        &lt;name&gt;<span data-bind="text: commissionedBy"></span>&lt;/name&gt;
        &lt;treasurer&gt;<span data-bind="text: committeeTreasurer"></span>&lt;/treasurer&gt;
        &lt;fecId&gt;<span data-bind="text: matchCommitteeToFecId()"></span>&lt;/fecId&gt;
    &lt;/committee&gt;
&lt;/payload&gt;</script>

    </head>
    <body>
        <div class="sf-header">
            <div class="container">
                <a class="sf-logo" href="http://www.sunlightfoundation.com">Sunlight Foundation</a>
            </div>
        </div>

        <div class="container">
            <div id="app-container" class="content">
                <h2>An example FCC Form</h2>
                <p class="lead">Demo xplainer graph. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Excepturi, officia, ratione, eius architecto totam ipsum tenetur explicabo rem nihil veniam animi nobis expedita unde consequuntur assumenda ipsam deserunt deleniti perspiciatis.</p>
                <div class="row">
                    <div id="app-nav" class="span3">
                        <p>The example data comes from <a target="_new" href="http://politicaladsleuth.com/political-files/d048f5d0-ee8e-4e29-a49b-1ea97487dd4c/">an 2013 ad buy</a> at WABC-TV in New York City. Everthing but the advertiser contact telephone is real.</p>
                        <ul class="unstyled">
                            <li>
                                <button data-toggle="modal" data-bind="click: loadExampleData" class="btn btn-primary" type="button">Load Example Data</button>
                            </li>
                            <li>
                                <button data-toggle="modal" data-target="#example-modal" class="btn" type="button">View Example Data</button>
                            </li>
                        </ul>
                    </div>
                    <div id="app-form" class="span9">
                        <form id="fcc_form" method="post" action="." autocomplete="off" data-bind="submit: submitForm">
                            <div class="row">
                                <div class="span4">
                                    <fieldset>
                                        <legend>Purchase information</legend>
                                        <label class="control-label" for="station_callsign">Station Callsign</label>
                                        <input name="station_callsign" id="station_callsign" class="input-small" type="text" placeholder="XXXX" required data-bind="value: stationCallsign">
                                        <label class="checkbox" for="purchase_approved">
                                            <input name="purchase_approved" id="purchase_approved" type="checkbox" value="purchase_approved"  data-bind="checked: purchaseApproved"> Was the request to purchase broadcast time accepted?
                                        </label>
                                        <label class="control-label" for="contract_amount">Total Amount</label>
                                        <div class="input-prepend">
                                            <span class="add-on">$</span>
                                            <input name="contract_amount" id="contract_amount" class="input-small" type="number" placeholder="0000.00" required data-bind="value: contractAmount">
                                        </div>
                                        <!-- <span class="help-block">The total amount charged for the broadcast time.</span> -->
                                    </fieldset>
                                    <fieldset>
                                        <legend>Ad purchaser</legend>
                                        <label class="control-label" for="advertiser_name">Ad purchaser</label>
                                        <input autocomplete="on" name="advertiser_name" id="advertiser_name" class="span4" type="text" placeholder="Name of person/organization" required data-bind="value: advertiserName">
                                        <label class="control-label" for="advertiser_contact_name">Contact name</label>
                                        <input autocomplete="on" name="advertiser_contact_name" id="advertiser_contact_name" class="span4" type="text" placeholder="Name of contact person for ad purchaser" required data-bind="value: advertiserContactName">
                                        <label class="control-label">Contact address</label>
                                        <textarea autocomplete="on" id="advertiser_contact_address" name="advertiser_contact_address" class="span4" rows="4" placeholder="Address line 1, Address line 2, City, State Zipcode" required data-bind="value: advertiserContactAddress"></textarea>
                                        <label class="control-label" for="advertiser_contact_phone">Contact phone number</label>
                                        <input autocomplete="on" name="advertiser_contact_phone" id="advertiser_contact_phone" class="span4" type="tel" placeholder="XXX-XXX-XXXX ext. 2121" required data-bind="value: advertiserContactPhone">
                                    </fieldset>
                                </div>
                                <div class="span4 offset1">
                                    <fieldset>
                                        <legend title="Candidate, Issue, or&nbsp;Election">Subject of ad</legend>
                                        <label class="control-label" for="advertisement_subject">Advertisement subject</label>
                                        <select name="advertisement_subject" id="advertisement_subject"
                                        data-bind="options: advertisementSubjectOptions,
                                                    value: advertisementSubject, optionsCaption: 'Choose...',
                                                    attr: {required: advertisementSubjectOptions }"></select>
                                        <label class="control-label" for="subject_name" ><strong><span data-bind="text: advertisementSubject() != null ? advertisementSubject : 'Subject' ">&nbsp;</span> </strong>name or description</label>
                                        <input name="subject_name" id="subject_name" class="span4" type="text" placeholder="Enter candidate, issue, or election name" required data-bind="value: subjectName">
                                        <input type="hidden" name="subject_fec_id" data-bind="value: matchSubjectToFecId()">
                                        <div id="form_candidate_extras" data-bind='visible: subjectIsCandidate()'>
                                            <label class="control-label" for="office_sought">Office sought</label>
                                            <input name="office_sought" id="office_sought" class="span4" type="text" placeholder="Enter office sought" data-bind="value: subjectOfficeSought, attr: { required: subjectIsCandidate() }">
                                        </div>
                                    </fieldset>
                                    <fieldset id="form_committee_details">
                                        <legend title="The committee or organization commissioning the ad">Ad Commissioner details</legend>
                                        <label class="control-label" for="commissioned_by">Commissioned by</label>
                                        <input id="commissioned_by" name="commissioned_by" class="span4" type="text" required placeholder="Committee or organization name" data-bind="value: commissionedBy">
                                        <input type="hidden" name="committee_fec_id" data-bind="value: matchCommitteeToFecId()">
                                        <label class="control-label" for="committee_treasurer"><span data-bind="text: subjectIsCandidate() ? 'Treasurer' : 'Principals'"></span></label>
                                        <input name="committee_treasurer" id="committee_treasurer" class="span4" type="text" placeholder="Enter name of the committee's treasurer" data-bind="visible: subjectIsCandidate(), value: committeeTreasurer, attr: { required: isByCandidate() }">
                                        <textarea name="principals" id="principals" class="span4" rows="10" data-bind="visible: !subjectIsCandidate(), value: principals, attr: { required: !isByCandidate() }" placeholder="A list of the chief executive officers or members of the executive committee or of the board of directors. One per line."></textarea>
                                    </fieldset>
                                </div>
                            </div>
                            <div>
                                <fieldset class="form-inline">
                                    <legend>Add dates and times of communications purchased</legend>
                                    <div id="purchases"data-bind='foreach: purchases'>
                                        <div class="purchase-detail row">
                                            <div class="vert-stripe span4">
                                                <label>
                                                    From:
                                                    <input name="start-date[]" data-bind="value: startDate" type="text" class="input-mini" placeholder="1/1/2012">
                                                </label>
                                                <label>
                                                    To:
                                                    <input name="end-date[]" data-bind="value: endDate" type="text" class="input-mini" placeholder="1/1/2012">
                                                </label>
                                                <label>
                                                    Timeslot:
                                                    <input name="begin-time[]" data-bind="value: beginTime" type="text" class="input-mini" placeholder="4:00pm">
                                                    <input name="end-time[]" data-bind="value: endTime" type="text" class="input-mini" placeholder="5:00pm">
                                                </label>
                                            </div>
                                            <div class="span5">
                                                <div class="input-prepend">
                                                    <span class="add-on">$</span>
                                                    <input name="ad-rate[]" data-bind="value: adRate" type="text" class="input-mini" placeholder="00.00">
                                                </div>
                                                <input name="number-spots[]" data-bind="value: numberSpots" type="text" class="input-mini" placeholder="# Spots" >
                                                <input name="time-class[]" data-bind="value: timeClass" type="text" class="input-small" placeholder="Class of time" >
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-small" type="button" data-bind="click: addPurchase">Add Row</button>
                                </fieldset>
                            </div>
                            <div class="row">
                                <div class="span3">
                                    <button class="btn btn-sunlight" type="submit" value="Submit">Submit</button>
                                    <button class="btn" type="reset" value="Reset" data-bind="click: resetForm">Reset</button>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>

        <div class="sf-footerWrapper">
            <div class="sf-footer container">
                <div class="row">
                    <div class="span6 signup span-divider">
                        <h4>Like this Project and Want to Discover Others Like It?</h4>
                        <span class="tip">Join the Sunlight Foundation's open government community to learn more</span>
                        <form action="/subscribe/" method="post" id="sfapp-subscribe-form" class="form-inline">
                            <input type="hidden" name="response" value="json">
                            <input type="text" name="email" placeholder="your email address">
                            <input type="text" name="zipcode" placeholder="your zip code">
                            <button type="submit" class="btn btn-sunlight">Sign Up</button>
                        </form>
                    </div>
                    <div class="span6 terms">
                        <p>Our <a href="http://sunlightfoundation.com/legal/privacy/">privacy policy</a> details how personally identifiable information that is collected on our web sites is handled. Read our <a href="http://sunlightfoundation.com/legal/terms/">terms of service</a>.</p>
                        <p>This work by <a href="http://sunlightfoundation.com">Sunlight Foundation</a>, unless <a href="http://sunlightfoundation.com/colophon/">otherwise noted</a>, is licensed under a <a href="http://creativecommons.org/licenses/by/3.0/us/">Creative Commons Attribution 3.0 United States License</a>.</p>
                    </div>
                </div>
            </div>
        </div>
        <div id="example-modal" class="modal hide fade">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3>Example Data in <abbr title="JavaScript Object Notation">JSON</abbr> format</h3>
            </div>
            <div class="modal-body">
                <p>If the FCC creates a standardized machine-readable format for submissions, compliance documents could be filed electronically.</p>
                <pre><code class="language-javascript terminal" data-bind="text: exampleJSON()"></code></pre>
            </div>
            <div class="modal-footer">
                <button class="btn btn-small" data-dismiss="modal">Close</button>
            </div>
        </div>
        <div id="form-submit-modal" class="modal hide fade">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3>Form submit</h3>
            </div>
            <div class="modal-body">
                <p>Something to drive home point about ease of generating <abbr title="eXtensible Markup Language">XML</abbr> or<abbr title="JavaScript Object Notation">JSON</abbr> from ad systems.</p>
                <pre class="pre-scrollable"><code class="language-javascript terminal" data-bind="text: ko.toJSON($root, function (key, value) { return (key == 'advertisementSubjectOptions') ? undefined : value; }, 4)"></code></pre>

            </div>
            <div class="modal-footer">
                <button data-dismiss="modal" class="btn btn-primary">Okay</button>
            </div>
        </div>
            <script data-main="js/app"  src="js/require.js" type="text/javascript" charset="utf-8"></script>
    </body>
</html>
